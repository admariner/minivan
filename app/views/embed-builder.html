<div
  ng-if="!networkData.loaded"
  layout-fill
  layout="column"
  layout-align="center center"
>
  <md-progress-circular md-mode="indeterminate"></md-progress-circular>
</div>
<div ng-if="networkData.loaded">
  <div layout="row" layout-xs="column">
    <div flex="">
      <h1>Embed settings</h1>
      <md-select ng-model='inputs.size'>
        <md-option ng-value='"small"'>Small width</md-option>
        <md-option ng-value='"medium"'>Medium width</md-option>
        <md-option ng-value='"big"'>Big width</md-option>
        <md-option ng-value='"full"'>Full width</md-option>
        <md-option ng-value='"custom"'>Custom</md-option>
      </md-select>
      <div ng-if="inputs.size === 'custom'">
        <md-input-container>
          <label>Width</label>
          <input
            type="number"
            step="1"
            min="0"
            max="10000"
            ng-value="0"
            ng-model="size.width"
          />
        </md-input-container>
        <md-input-container>
          <label>Height</label>
          <input
            type="number"
            step="1"
            min="0"
            max="10000"
            ng-value="0"
            ng-model="size.height"
          />
        </md-input-container>
      </div>
      <div>
        <h2>Embed title</h2>
        <md-input-container>
          <input
            type="text"
            ng-model="inputs.name"
          />
        </md-input-container>
      </div>
      <md-switch ng-model="inputs.showLink" aria-label="Show minivan link in embed?">
        Show minivan link in embed
      </md-switch>
      <div ng-if="embedType === 'map'">
        <embed-builder-map
          options="embedTypeOptions"
          get-renderer="getRenderer"
        />
      </div>
    </div>
    <div flex>
      <div class="embed-preview__container">
        <div
          ng-style="{height: size.height + 'px', width: size.width === '100%' ? size.width : size.width + 'px'}"
        >
          <embeded-map
            network-data="networkData"
            block-gestures="embedTypeOptions.lockNavigation"
            name="inputs.name"
            attribute="attribute"
            get-renderer="$parent.getRenderer"
            node-color-id="nodeColorId"
            node-size-id="nodeSizeId"
            show-link="inputs.showLink"
          ></embeded-map>
        </div>
      </div>
      <pre class="embed-code__container">
<code id="iframe-builder">&lt;iframe
  style="border: none; width: {{size.width === '100%' ? size.width : size.width + 'px'}}; height: {{size.height}}px"
  src="{{printParams()}}"&gt;
&lt;/iframe&gt;</code>
      </pre>
      <md-button ng-click="copy()" class="embed-copy--button" ngclipboard data-clipboard-target="#iframe-builder">Copy</md-button>
      <!-- <iframe
        style="border: none; width: {{size.width === '100%' ? size.width : size.width + 'px'}}; height: {{size.height}}px"
        src="{{printParams()}}">
      </iframe> -->
    </div>
  </div>
</div>